<%= render :partial => 'spree/admin/shared/boards_sub_menu' %>

<% content_for :page_title do %>
  <%= Spree.t(:products_on_boards) %>
<% end %>



<% content_for :table_filter_title do %>
  <%= Spree.t(:filter) %>
<% end %>

<% content_for :table_filter do %>
  <div data-hook="admin_boards_index_filter">
    <%= search_form_for [:admin, @search] do |f| %>
      <div class="field-block alpha six columns">

        <div class="field">
          <%= label_tag nil, Spree.t(:board_status) %><br />
          <%= f.select :status_eq, Spree::Board.status_options, {:include_blank => true}, :class => 'select2' %>
        </div>
		
      </div>




		<div class="omega six columns">
			<div class="field">
	          <%= label_tag nil, Spree.t(:designer) %><br />
	          <%#= f.select :designer_id_eq, Spree::User.all().is_active_designer.collect{|designer| [designer.full_name, designer.id]}, {:include_blank => true}, :class => 'select2' %>
	        </div>
	        <div class="date-range-filter field">
	          <%= label_tag nil, Spree.t(:date_range) %>
	          <div class="date-range-fields">
	            <%= f.text_field :created_at_gt, :class => 'datepicker datepicker-from', :value => params[:q][:created_at_gt], :placeholder => Spree.t(:start) %>

	            <span class="range-divider">
	              <i class="icon-arrow-right"></i>
	            </span>

	            <%= f.text_field :created_at_lt, :class => 'datepicker datepicker-to', :value => params[:q][:created_at_lt], :placeholder => Spree.t(:stop) %>
	          </div>
	        </div>

	      </div>




      <div class="clearfix"></div>

      <div class="actions filter-actions">
        <div data-hook="admin_orders_index_search_buttons">
          <%= button Spree.t(:filter_results), 'icon-search' %>
        </div>
      </div>
    <% end %>
  </div>
<% end %>


<table class="index">
	<colgroup>
		<col style="width: 15%;">
		<col style="width: 30%;">
		<col style="width: 15%;">
		<col style="width: 8%;">
		<col style="width: 8%;">
		<col style="width: 17%;">
	</colgroup>
	<thead>
		<tr>
			<th colspan="2">Product Name</th>
			<th>Room / Designer</th>
			<th>Stock</th>
			<th>Shipping Category</th>
			<th>Dimensions</th>
			<th>Weight</th>
			<th>Contact Method</th>
			<th class="actions"></th>
		</tr>
	</thead>
  
	<tbody>
    <% @board_products.each do |board_product| %>
		<tr class="<%= cycle('odd', 'even') %>" id="<%= dom_id board_product %>">
			<td class="align-center"><%= mini_image(board_product.product) %></td>
			<td><%= link_to board_product.product.try(:name), edit_admin_product_path(board_product.product) %>
				<br/>SKU: <%= board_product.product.sku rescue '' %>
				<br/><%= board_product.product.display_price.to_html rescue '' %>
				<br/><%= board_product.product.supplier.name.to_html rescue '' %></td>
			<td><strong><%= board_product.board.name%></strong>
				<br /><%= board_product.board.designer.full_name%></td>
			<td class="align-center">10</td>
			<td class="align-center">Parcel</td>
			<td class="align-center">3 x 13 x 13</td>
			<td class="align-center">10 lbs.</td>
			<td/>contact</td>
			<td  class="actions">
				<%= link_to_edit board_product, :no_text => true %>
          		<%= link_to_delete board_product, :no_text => true %>
			</td>
		</tr>
	<% end %>
	</tbody>
</table>

<%= paginate @board_products %>